(this["webpackJsonpbivariate-gradient-descent"]=this["webpackJsonpbivariate-gradient-descent"]||[]).push([[0],{163:function(t,e,a){},172:function(t,e){},173:function(t,e,a){},186:function(t,e,a){"use strict";a.r(e);var n=a(6),s=a(0),i=a.n(s),r=a(36),o=a.n(r),c=a(19),u=(a(163),a(122)),l=a.n(u),b=a(133),h=a(13),j=a(18),d=a(134),p=a(199),v=a(203),O=a(197),x=a(200),f=a(187),g=a(135),y=a(198),m=function t(e,a,n,s){var i=this,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0];Object(g.a)(this,t),this.xValues=void 0,this.yValues=void 0,this.data=void 0,this.m=void 0,this.iterations=void 0,this.alpha=void 0,this.function=void 0,this.functionString=void 0,this.a=void 0,this.b=void 0,this.steps=void 0,this.getSteps=function(){var t=[],e=[],a=[];return i.steps.forEach((function(n){t.push(n[0]),e.push(n[1]),a.push(i.cost(n[0],n[1]))})),[t,e,a]},this.cost=function(t,e){for(var a=0,n=0;n<i.xValues.length;n++)a+=Math.pow(i.yValues[n]-i.function.evaluate({a:t,b:e,x:i.xValues[n]}),2);return a},this.sumForAllXY=function(t,e){for(var a=0,n=0;n<i.xValues.length;n++)a+=t.evaluate(Object(h.a)(Object(h.a)({},e),{},{x:i.xValues[n],y:i.yValues[n]}));return a},this.calculateCostSurface=function(){for(var t=[],e=[],a=[],n=Math.round(i.b)-5;n<Math.round(i.b)+5+1;n++){var s=[];e.push(n);for(var r=Math.round(i.a)-5;r<Math.round(i.a)+5+1;r++)n==Math.round(i.b)-5&&t.push(r),s.push(i.cost(r,n));a.push(s)}return[t,e,a]},this.getRegressionLine=function(){var t=[],e=[];return i.xValues.forEach((function(a){t.push(a),e.push(i.function.evaluate({a:i.a,b:i.b,x:a}))})),[t,e]},this.getLatex=function(){return i.function.toTex()},this.calculate=function(){var t=Object(y.b)(["((",i.function.toString(),"-y)^2)/2"].join("")),e=Object(y.a)(t,"a"),a=Object(y.a)(t,"b");console.log(e.toString()),console.log(a.toString());for(var n=0;n<i.iterations;n++)i.a-=i.alpha*(1/i.m)*i.sumForAllXY(e,{a:i.a,b:i.b}),i.b-=i.alpha*(1/i.m)*i.sumForAllXY(a,{a:i.a,b:i.b}),i.steps.push([i.a,i.b]);return console.log(i.steps),console.log(i.a,i.b),[Math.round(100*i.a)/100,Math.round(100*i.b)/100]},console.log({functionString:e,inputData:a,iterations:s,alpha:n}),this.functionString=e,this.xValues=a[0],this.yValues=a[1],this.m=a[0].length,this.data=a,this.a=r[0],this.b=r[1],this.iterations=s,this.alpha=n,this.steps=[],this.function=Object(y.b)(e)};a(173);function S(t){Object(d.a)(t);var e={Linear:{alpha:"0.01",iterations:"3000"},Exponential:{alpha:"0.005",iterations:"4000"},Quadratic:{alpha:"0.005",iterations:"4000"},Custom:{alpha:"0.001",iterations:"5000"}},a=Object(c.b)(),i=Object(s.useState)(""),r=Object(j.a)(i,2),o=r[0],u=r[1],g=Object(s.useState)(""),S=Object(j.a)(g,2),w=S[0],D=S[1],C=Object(s.useState)("(a*x)+b"),A=Object(j.a)(C,2),N=A[0],L=A[1],k=Object(s.useState)({alpha:e.Linear.alpha,iterations:e.Linear.iterations}),V=Object(j.a)(k,2),z=V[0],I=V[1],E=Object(s.useState)(["0","0"]),M=Object(j.a)(E,2),H=M[0],R=M[1],q=Object(s.useState)(!1),B=Object(j.a)(q,2),P=B[0],F=B[1],X=Object(s.useState)(!1),Y=Object(j.a)(X,2),J=Y[0],Q=Y[1],W=function(t,e){switch(console.log({event:t,data:e}),e.label){case"Starting A":R([e.value,H[1]]);break;case"Starting B":R([H[0],e.value]);break;case"alpha":I(Object(h.a)(Object(h.a)({},z),{},{alpha:e.value}));break;case"iterations":I(Object(h.a)(Object(h.a)({},z),{},{iterations:e.value}))}},T=function(){var t=Object(b.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(2===(e=G(o)).length){t.next=4;break}return D("Invalid Input, Please try again"),t.abrupt("return");case 4:if(e[0].length===e[1].length){t.next=7;break}return D("Make sure length of x and y are the same! Please try again"),t.abrupt("return");case 7:t.prev=7,parseInt(z.iterations),Number(z.alpha),Number(H[0]),Number(H[1]),t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(7),D("Invalid Input, Please try again"),t.abrupt("return");case 18:t.prev=18,Object(y.b)(N),t.next=26;break;case 22:return t.prev=22,t.t1=t.catch(18),D("Invalid Custom function"),t.abrupt("return");case 26:a({type:"setAppState",appState:{showInput:!1,showLoading:!0,showOutput:!1}}),n=new m(N,e,Number(z.alpha),Number(z.iterations),[Number(H[0]),Number(H[1])]),a({type:"setInputData",inputData:e}),a({type:"setRegression",regression:n});case 30:case"end":return t.stop()}}),t,null,[[7,14],[18,22]])})));return function(){return t.apply(this,arguments)}}(),G=function(t){try{return t.split("\n").map((function(t){return t.split(",").map((function(t){return parseFloat(t)}))}))}catch(w){return[]}};return Object(n.jsxs)("div",{className:"flexStartVertically",children:[Object(n.jsxs)("div",{className:"flexAroundHorizontally",style:{maxWidth:"1000px"},id:"inputs",children:[Object(n.jsx)(p.a,{fluid:!0,selection:!0,options:[{text:"Linear",value:"(a*x)+b"},{text:"Exponential",value:"a*(b^x)"},{text:"Quadratic",value:"(a*(x^2)) + b"},{text:"Custom",value:"Custom"}],onChange:function(t,a){"Custom"===t.target.textContent?(Q(!0),L("")):(L(a.value),Q(!1)),I(e[t.target.textContent])},defaultValue:"(a*x)+b",style:{minWidth:"200px"}}),Object(n.jsx)(v.a,{label:"Show advanced settings",checked:P,onClick:function(){return F(!P)}}),P?Object(n.jsxs)("div",{children:[Object(n.jsx)(O.a,{label:"alpha",value:z.alpha,onChange:W,size:"small"}),Object(n.jsx)(O.a,{label:"iterations",value:z.iterations,onChange:W}),Object(n.jsx)(O.a,{label:"Starting A",value:H[0],onChange:W}),Object(n.jsx)(O.a,{label:"Starting B",value:H[1],onChange:W})]}):Object(n.jsx)("div",{})]}),Object(n.jsx)("div",{className:"flexAroundHorizontally",children:Object(n.jsx)(O.a,{label:J?"Custom Equation":"Equation",placeholder:"(a*x) + b",onChange:function(t,e){return L(e.value)},value:N,disabled:!J})}),Object(n.jsx)("div",{className:"flexAroundHorizontally",children:Object(n.jsx)("textarea",{placeholder:"x followed by y: \n0,1,2,3,4,5\n0,1,2,3,4,5",value:o,onChange:function(t){u(t.target.value)}})}),""===w?Object(n.jsx)("div",{}):Object(n.jsx)("div",{className:"flexAroundHorizontally",children:Object(n.jsx)(x.a,{error:!0,children:w})}),Object(n.jsx)("div",{className:"flexAroundHorizontally buttonContainer",children:Object(n.jsx)(f.a,{color:"teal",onClick:T,children:"Calculate"})})]})}var w=a(138),D=a.n(w),C=a(139),A=a.n(C),N=a(140),L=(a(178),a(202)),k=function(t){var e=Object(s.useState)([]),a=Object(j.a)(e,2),i=a[0],r=a[1],o=Object(s.useState)([]),u=Object(j.a)(o,2),l=u[0],b=u[1];Object(s.useEffect)((function(){console.log("calculating cost surface...");var t=null===O||void 0===O?void 0:O.calculateCostSurface(),e=null===O||void 0===O?void 0:O.getSteps();void 0!=t&&void 0!=e&&(console.log({CS:t,s:e}),r(t),b(e))}),[]);var h=A()(D.a),d=Object(c.c)((function(t){return t.Data.regressionLineData})),p=Object(c.c)((function(t){return t.Data.inputData})),v=Object(c.c)((function(t){return t.Data.outputData})),O=Object(c.c)((function(t){return t.Data.regression})),x=Object(s.useRef)(null);return Object(n.jsxs)("div",{className:"flexStartVertically",children:[Object(n.jsx)(h,{data:[{name:"regression line",x:d[0],y:d[1],type:"scatter",mode:"lines",line:{color:"rgb(219, 64, 82)",width:2}},{name:"data",type:"scatter",x:p[0],y:p[1],mode:"markers",marker:{color:"green"}}],layout:{title:"Data with regression"},config:{staticPlot:!0}}),Object(n.jsx)(N.BlockMath,{children:v.latexEquation}),Object(n.jsx)("div",{className:"flexAroundHorizontally",children:Object(n.jsxs)(L.a,{children:["a = ",v.values[0]," b = ",v.values[1]]})}),Object(n.jsx)("div",{ref:x,style:{width:"100%"},className:"flexAroundHorizontally",children:0==i.length?Object(n.jsx)("div",{className:"flexAroundHorizontally",style:{width:"100%",height:"auto"}}):Object(n.jsx)(h,{data:[{name:"surface",x:i[0],y:i[1],z:i[2],type:"surface",opacity:.5},{name:"Path taken for gradient descent",type:"scatter3d",mode:"lines",x:l[0],y:l[1],z:l[2],line:{color:"teal",width:9}}],layout:{title:"Cost Surface","xaxis.title":"A","yaxis.title":"B"},style:{width:"100%",height:"100%"}})})]})},V=a(141),z=a.n(V),I=function(t){var e=Object(c.c)((function(t){return t.Data.regression})),a=Object(c.b)();return Object(s.useEffect)((function(){var t={values:null===e||void 0===e?void 0:e.calculate(),latexEquation:null===e||void 0===e?void 0:e.getLatex()},n=null===e||void 0===e?void 0:e.getRegressionLine();a({type:"setAppState",appState:{showInput:!1,showLoading:!1,showOutput:!0}}),a({type:"setOutputData",outputData:t}),a({type:"setRegressionLineData",regressionLineData:n}),a({type:"setRegression",regression:e})}),[]),Object(n.jsxs)("div",{className:"flexStartVertically",children:[Object(n.jsx)("div",{className:"flexAroundHorizontally",style:{margin:"80px"},children:Object(n.jsx)(z.a,{size:40,color:"#009c95"})}),Object(n.jsx)("div",{className:"flexAroundHorizontally",children:Object(n.jsx)(L.a,{color:"grey",children:"Calculating ..."})})]})},E=function(t){var e=Object(c.c)((function(t){return t.AppState.showInput})),a=Object(c.c)((function(t){return t.AppState.showOutput})),s=Object(c.c)((function(t){return t.AppState.showLoading}));return Object(n.jsxs)("div",{children:[e?Object(n.jsx)(S,{}):Object(n.jsx)("div",{}),a?Object(n.jsx)(k,{}):Object(n.jsx)("div",{}),s?Object(n.jsx)(I,{}):Object(n.jsx)("div",{})]})},M=a(64),H={inputData:[],regressionLineData:[],regression:void 0,outputData:{latexEquation:"",values:[]}},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"setInputData":return Object(h.a)(Object(h.a)({},t),{},{inputData:e.inputData});case"setRegressionLineData":return Object(h.a)(Object(h.a)({},t),{},{regressionLineData:e.regressionLineData});case"setRegression":return Object(h.a)(Object(h.a)({},t),{},{regression:e.regression});case"setOutputData":return Object(h.a)(Object(h.a)({},t),{},{outputData:e.outputData});default:return Object(h.a)({},t)}},q={showInput:!0,showOutput:!1,showLoading:!1},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"setAppState":return e.appState;default:return Object(h.a)({},t)}},P=Object(M.b)({Data:R,AppState:B}),F=(a(184),Object(M.c)(P,{}));o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(c.a,{store:F,children:Object(n.jsx)(E,{})})}),document.getElementById("root"))}},[[186,1,2]]]);
//# sourceMappingURL=main.64df05a8.chunk.js.map